{"version":3,"sources":["components/images/Xlogo.webp","components/utils/auth.js","components/Authentication.js","components/PayPalBtn.js","pages/PayPalPage.js","pages/LoginPage.js","components/utils/API.js","pages/SignUpPage.js","components/App.js","index.js"],"names":["module","exports","__webpack_require__","p","Auth","token","localStorage","setItem","onAuthChangeCallback","removeItem","getItem","getToken","callback","Authentication","props","react_default","a","createElement","onClick","logout","type","class","Link","to","PaypalBtn","react_paypal_express_checkout_default","env","client","sandbox","production","currency","total","onError","err","console","log","onSuccess","payment","onCancel","data","Component","PaymentPage","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","state","amount","handleAmountInput","event","setState","target","value","show","_this2","className","src","Xlogo","alt","handleClick","data-toggle","id","PayPalBtn","LoginPage","email","password","handleInputChange","_event$target","name","defineProperty","handleSubmit","preventDefault","fetch","method","body","JSON","stringify","headers","Content-Type","then","res","json","response","split","login","catch","error","Redirect","onSubmit","placeholder","onChange","API","newUser","User","axios","post","Authorization","concat","SignUpPage","password1","redirect","handleConfirmPassword","alert","status","handleLogin","required","App","handleAuthChange","onAuthChange","BrowserRouter","components_Authentication","Route","exact","path","render","src_pages_LoginPage","src_pages_SignUpPage","App_PrivateRoute","component","PayPalPage","PrivateRoute","_ref","rest","objectWithoutProperties","assign","pathname","from","location","ReactDOM","components_App","document","getElementById"],"mappings":"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","file":"static/js/main.01ebd87d.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/Xlogo.418ac464.webp\";","class Auth {\r\n\tstatic onAuthChangeCallback = null;\r\n  \r\n\tstatic login(token) {\r\n\t  localStorage.setItem('token', token);\r\n\t  if (Auth.onAuthChangeCallback)\r\n\t\tAuth.onAuthChangeCallback(token);\r\n\t}\r\n  \r\n\tstatic logout() {\r\n\t  localStorage.removeItem('token');\r\n\t  if (Auth.onAuthChangeCallback)\r\n\t\tAuth.onAuthChangeCallback(false);\r\n\t}\r\n  \r\n\tstatic getToken() {\r\n\t  return localStorage.getItem('token');\r\n\t}\r\n  \r\n\tstatic isAuthenticated() {\r\n\t  return !!Auth.getToken();\r\n\t}\r\n  \r\n\tstatic onAuthChange(callback) {\r\n\t  Auth.onAuthChangeCallback = callback;\r\n\t}\r\n  }\r\n  \r\n  export default Auth;","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\nimport Auth from './utils/auth';\r\n\r\nconst Authentication = props => (\r\n    props.token\r\n    ? <div onClick={() => Auth.logout()}><button type=\"button\" class=\"btn btn-outline-danger\"> Logout </button></div>\r\n    : <button type=\"button\" class=\"btn btn-outline-success\"> <Link to =\"/\" >Login</Link> </button>\r\n)\r\n\r\nexport default Authentication;","import React, {Component} from 'react';\r\nimport PaypalExpressBtn from 'react-paypal-express-checkout';\r\nimport { Redirect } from 'react-router-dom';\r\n\r\n\r\nclass PaypalBtn extends Component {\r\n    render() {\r\n        const onSuccess = (payment) => {\r\n            // Congratulation, it came here means everything's fine!\r\n                    console.log(\"The payment was succeeded!\", payment);\r\n                    // You can bind the \"payment\" object's value to your state or props or whatever here, please see below for sample returned data\r\n        }\r\n \r\n        const onCancel = (data) => {\r\n            // User pressed \"cancel\" or close Paypal's popup!\r\n            console.log('The payment was cancelled!', data);\r\n            // You can bind the \"data\" object's value to your state or props or whatever here, please see below for sample returned data\r\n        }\r\n \r\n        const onError = (err) => {\r\n            // The main Paypal's script cannot be loaded or somethings block the loading of that script!\r\n            console.log(\"Error!\", err);\r\n            // Because the Paypal's main script is loaded asynchronously from \"https://www.paypalobjects.com/api/checkout.js\"\r\n            // => sometimes it may take about 0.5 second for everything to get set, or for the button to appear\r\n        }\r\n \r\n        let env = 'production'; // you can set here to 'production' for production\r\n        let currency = 'USD'; // or you can set this value from your props or state\r\n        let total = \"1\"; // same as above, this is the total amount (based on currency) to be paid by using Paypal express checkout\r\n        // Document on Paypal's currency code: https://developer.paypal.com/docs/classic/api/currency_codes/\r\n \r\n        const client = {\r\n            sandbox:    '',\r\n            production: 'AWbk7IkbAfH3i9424rxxQEMYw-v7Yn20gud7HPRkXmvyAOu1i8Qvm5emSD0ceAYdRXE9ONd438BxOwBg',\r\n        }\r\n        return(\r\n            <PaypalExpressBtn env={env} client={client} currency={currency} total={total} onError={onError} onSuccess={onSuccess} onCancel={onCancel} />\r\n        )\r\n    }\r\n}\r\nexport default PaypalBtn","import React, {Component} from 'react';\r\nimport PaypalBtn from '../components/PayPalBtn';\r\nimport Xlogo from '../components/images/Xlogo.webp';\r\nimport \"./PayPalPage.css\";\r\n\r\n\r\nclass PaymentPage extends Component{\r\n\r\n    constructor() {\r\n        super();\r\n        this.state = {show: false};\r\n    }\r\n\r\n    state = {\r\n        amount: \"\" ,\r\n    }\r\n\r\n    handleAmountInput = (event) => {\r\n        this.setState({ amount: event.target.value })\r\n    }\r\n    \r\n    handleClick() {\r\n        this.setState({\r\n            show: !this.state.show\r\n        })\r\n    }\r\n    \r\n    render(){\r\n        return(\r\n            <div className= \"Pages\">\r\n            <div className= \"Xlogo-div\">\r\n                <img className= \"Xlogo\" src={Xlogo} alt=\"logo\" />\r\n            </div>\r\n            \r\n            <div className=\"TimeBtn\">\r\n                <button type=\"button\" onClick={ () => this.handleClick()} value=\"1\" class=\"btn btn-success btn-lg btn-block\" data-toggle= \"button\">30 Mins ---> $1.00</button>\r\n                <br></br>\r\n                {/*\r\n                <button type=\"button\" onClick={this.handleAmountInput} value=\"2\" class=\"btn btn-success btn-lg btn-block\" >1 Hour</button>\r\n                <br></br>\r\n                <button type=\"button\" onClick={this.handleAmountInput} value=\"3\" class=\"btn btn-success btn-lg btn-block\">1.5 Hour</button>\r\n                <br></br>\r\n                <button type=\"button\" onClick={this.handleAmountInput} value=\"4\" class=\"btn btn-success btn-lg btn-block\">2 Hours</button>\r\n                */}\r\n                <br></br>\r\n                <br></br>\r\n                    <div id=\"paybut\">\r\n                        <PaypalBtn />\r\n                    </div>\r\n            </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\nexport default PaymentPage","import React, { Component } from \"react\";\r\nimport { Redirect, Link } from \"react-router-dom\";\r\nimport \"./LoginPage.css\";\r\nimport Auth from \"../components/utils/auth\";\r\nimport Xlogo from '../components/images/Xlogo.webp';\r\n\r\nclass LoginPage extends Component {\r\n    state = {\r\n        email: \"\",\r\n        password: \"\"\r\n    }\r\n\r\n    handleInputChange = event => {\r\n        const { name, value } = event.target;\r\n\r\n        this.setState({\r\n            [name]: value\r\n        });\r\n    }\r\n\r\n    handleSubmit = event => {\r\n        event.preventDefault();\r\n\r\n        const data = {\r\n            email: this.state.email,\r\n            password: this.state.password\r\n        }\r\n\r\n        fetch('/login', {\r\n            method: 'POST',\r\n            body: JSON.stringify(data),\r\n            headers: {\r\n                'Content-Type': 'application/json'\r\n            }\r\n        }).then(res => res.json())\r\n            .then(response => {\r\n                //server returning \"JWT ...\", so we need to split off the token and then create it \r\n                // and then run it through login function in Auth\r\n                const token = response.token.split(' ')[1];\r\n                Auth.login(token);\r\n            })\r\n            .catch(error => console.error('Error:', error))\r\n    }\r\n\r\n    render() {\r\n        if (this.props.token) {\r\n            return <Redirect to=\"/payment\" />\r\n        }\r\n        return (\r\n            <div className=\"loginDiv\">\r\n\r\n            <div className= \"Xlogo-div\">\r\n                <img className= \"Xlogo\" src={Xlogo} alt=\"logo\" />\r\n            </div>\r\n\r\n                <div className=\"loginSec\">\r\n                <h1 id=\"logotitle\" >BATTERYXCHANGE</h1>\r\n            \r\n                <form className=\"logform\" onSubmit={this.handleSubmit}>\r\n                    <input id=\"inputBox\" type=\"text\" name=\"email\" placeholder=\"Email\" onChange={this.handleInputChange} />\r\n                    <br/>\r\n                    <br/>\r\n                    <input id=\"inputBox\" type=\"password\" name=\"password\" placeholder=\"password\" onChange={this.handleInputChange} />\r\n                    <br/>\r\n                    <br/>\r\n                    <button class=\"btn btn-success\">Login</button>\r\n                </form>\r\n                <br/>\r\n                <br/>\r\n                <br/>\r\n                <br/>\r\n                <br/>\r\n                <button class=\"btn btn-warning\">\r\n                    <Link to=\"/signup\">Sign Up Here</Link>\r\n                </button>\r\n                </div>\r\n            </div>\r\n\r\n        )\r\n    }\r\n}\r\n\r\nexport default LoginPage;","import axios from \"axios\";\r\nimport Auth from \"./auth\"\r\n\r\nexport default {\r\n\r\n  newUser: (User) => {\r\n    return axios.post(\"/api/newUser\", User,{ headers :{Authorization: `Bearer ${Auth.getToken()}`}});\r\n  }\r\n\r\n}","import React, { Component } from \"react\";\r\nimport { Redirect } from \"react-router-dom\";\r\nimport \"./SignUpPage.css\"\r\nimport API from \"../components/utils/API\";\r\nimport Auth from \"../components/utils/auth\";\r\n\r\nclass SignUpPage extends Component {\r\n\r\n    state = {\r\n        email: \"\",\r\n        password: \"\",\r\n        password1: \"\",\r\n        redirect: false\r\n    }\r\n\r\n    handleInputChange = event => {\r\n        const { name, value } = event.target;\r\n\r\n        this.setState({\r\n            [name]: value\r\n        });\r\n    }\r\n\r\n    handleConfirmPassword = (event) => {\r\n        if (event.target.value !== this.state.password) {\r\n            alert('error');\r\n            this.setState({password1: event.target.value})\r\n        }\r\n    }\r\n\r\n    handleSubmit = event => {\r\n        event.preventDefault();\r\n\r\n        if(this.state.password !== this.state.password1){\r\n            alert(\"the passwords does not match\")\r\n            return false\r\n        }\r\n        \r\n        if(this.state.email && this.state.password) {\r\n            API.newUser({\r\n                email: this.state.email,\r\n                password: this.state.password\r\n            })\r\n            .then(res => {\r\n                if (res.status===200) {\r\n                    this.setState({\r\n                        redirect: true\r\n                    })\r\n                }\r\n            })\r\n            .catch(err => console.log(err));\r\n        }\r\n    }\r\n\r\n    handleLogin = () => {\r\n        if (this.state.redirect) {\r\n            const data = {\r\n                email: this.state.email,\r\n                password: this.state.password\r\n            }\r\n    \r\n            fetch('/login', {\r\n                method: 'POST',\r\n                body: JSON.stringify(data),\r\n                headers: {\r\n                    'Content-Type': 'application/json'\r\n                }\r\n            }).then(res => res.json())\r\n                .then(response => {\r\n                    //server returning \"JWT ...\", so we need to split off the token and then create it \r\n                    // and then run it through login function in Auth\r\n                    const token = response.token.split(' ')[1];\r\n                    Auth.login(token);\r\n                })\r\n                .catch(error => console.error('Error:', error))\r\n        }\r\n    }\r\n\r\n    render() {\r\n        if (this.props.token) {\r\n            return <Redirect to=\"/payment\" />\r\n        }\r\n        return (\r\n            <div className=\"signupDiv\">\r\n                <div className=\"signupSec\">\r\n                <h1 id=\"pagetitle\">Sign Up</h1>\r\n                <br/>\r\n                <br/>\r\n                {this.handleLogin()}\r\n                <form onSubmit={this.handleSubmit}>\r\n                    <input id=\"inputBox\" required type=\"text\" name=\"email\" placeholder=\"Email\" onChange={this.handleInputChange} />\r\n                    <br/>\r\n                    <br/>\r\n                    <input id=\"inputBox\" required type=\"password\" name=\"password\" placeholder=\"Password\" onChange={this.handleInputChange} />\r\n                    <br/>\r\n                    <br/>\r\n                    <input id=\"inputBox\" required type=\"password\" name=\"password1\" placeholder=\"Confirm Password\" onChange={this.handleInputChange} />\r\n                    <br/>\r\n                    <br/>\r\n                    <br/>\r\n                    <button class=\"btn btn-warning\"> Sign Up </button>\r\n                </form>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default SignUpPage;","import React, { Component } from \"react\";\r\nimport { BrowserRouter, Route, Redirect } from \"react-router-dom\";\r\n\r\nimport Auth from \"./utils/auth\";\r\nimport Authentication from \"./Authentication\";\r\n\r\nimport PayPalPage from \"../pages/PayPalPage\";\r\nimport LoginPage from \"../pages/LoginPage\";\r\nimport SignUpPage from \"../pages/SignUpPage\";\r\n\r\nclass App extends Component {\r\n\tstate = {\r\n\t\ttoken: Auth.getToken()\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\t\tAuth.onAuthChange(this.handleAuthChange);\r\n\t}\r\n\r\n\thandleAuthChange = token => {\r\n\t\tthis.setState({\r\n\t\t\ttoken\r\n\t\t});\r\n\t}\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<BrowserRouter>\r\n\t\t\t\t<div>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<header>\r\n\t\t\t\t\t\t<Authentication token={this.state.token} />\r\n\t\t\t\t\t</header>\r\n\t\t\t\t\t<Route exact path=\"/\" render={() => <LoginPage token={this.state.token} />} />\r\n\t\t\t\t\t<Route exact path=\"/signup\" render={() => <SignUpPage token={this.state.token} />} />\r\n\t\t\t\t\t<PrivateRoute path=\"/payment\" component={PayPalPage} token={this.state.token} />\r\n\t\t\t\t\t\r\n\t\t\t\t</div>\r\n\t\t\t</BrowserRouter>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nconst PrivateRoute = ({ component: Component, token, ...rest }) => (\r\n\t<Route {...rest} render={props => (\r\n\t\ttoken ? (\r\n\t\t\t<Component {...props} token={token} />\r\n\t\t) : (\r\n\t\t\t\t<Redirect to={{\r\n\t\t\t\t\tpathname: '/',\r\n\t\t\t\t\tstate: { from: props.location }\r\n\t\t\t\t}} />\r\n\t\t\t)\r\n\t)} />\r\n);\r\n\t\r\nexport default App;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\n\r\nimport App from \"./components/App\";\r\n\r\nReactDOM.render(<App />, document.getElementById(\"root\"));\r\n"],"sourceRoot":""}